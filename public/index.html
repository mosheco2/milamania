<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>×›×”× '×¡ - Alias Party</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }
    body {
      margin: 0;
      padding: 0;
      background: #020617;
      color: #e5e7eb;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }
    .app {
      max-width: 960px;
      width: 100%;
      padding: 20px 16px 40px;
    }
    .card {
      background: #020617;
      border-radius: 24px;
      padding: 18px 18px 20px;
      box-shadow: 0 18px 45px rgba(0,0,0,0.85);
      border: 1px solid rgba(148,163,184,0.25);
      margin-bottom: 16px;
    }
    h1, h2, h3 {
      margin-top: 0;
    }
    .chip {
      display: inline-flex;
      align-items: center;
      padding: 4px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.45);
      font-size: 0.78rem;
      color: #cbd5f5;
      gap: 6px;
      background: radial-gradient(circle at top left, rgba(56,189,248,0.22), rgba(15,23,42,0.96));
    }
    .logo-main {
      max-width: 140px;
      height: auto;
      border-radius: 18px;
      margin: 10px auto 4px;
      display: none;
      box-shadow: 0 10px 25px rgba(15,23,42,0.9);
    }
    .section-title {
      font-size: 1.05rem;
      margin-bottom: 4px;
    }
    .section-text {
      font-size: 0.9rem;
      color: #9ca3af;
      margin-bottom: 10px;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 18px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 600;
      transition: transform 0.08s ease, box-shadow 0.08s ease, background 0.15s ease;
      white-space: nowrap;
    }
    .btn-wide {
      width: 100%;
    }
    .btn-primary {
      background: linear-gradient(135deg, #38bdf8, #0ea5e9);
      color: #020617;
      box-shadow: 0 12px 30px rgba(56,189,248,0.4);
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 16px 40px rgba(56,189,248,0.55);
    }
    .btn-success {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #022c22;
      box-shadow: 0 12px 30px rgba(34,197,94,0.4);
    }
    .btn-success:hover {
      transform: translateY(-1px);
      box-shadow: 0 16px 40px rgba(34,197,94,0.55);
    }
    .btn-ghost {
      background: transparent;
      border: 1px solid #4b5563;
      color: #e5e7eb;
    }
    .btn-ghost:hover {
      background: rgba(15,23,42,0.9);
    }
    .btn-small {
      padding: 6px 10px;
      font-size: 0.8rem;
    }
    .roles-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }
    @media (min-width: 720px) {
      .roles-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
    .how-card {
      font-size: 0.85rem;
      color: #cbd5f5;
    }
    .how-card p {
      margin: 0 0 4px;
    }
    .how-card ul {
      margin: 0 0 4px 0;
      padding-right: 1.1rem;
    }
    .how-card li {
      margin-bottom: 2px;
    }
    .ad-banner {
      display: block;
      margin-top: 6px;
      border-radius: 20px;
      padding: 4px;
      background: radial-gradient(circle at top left, rgba(56,189,248,0.25), rgba(15,23,42,0.98));
      border: 1px solid rgba(148,163,184,0.6);
      text-decoration: none;
    }
    .ad-banner img {
      width: 100%;
      display: block;
      border-radius: 16px;
    }
    .small-muted {
      font-size: 0.8rem;
      color: #9ca3af;
    }
    /* ××•×“×œ ×”×•×¨××•×ª */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15,23,42,0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }
    .modal {
      background: #020617;
      border-radius: 18px;
      padding: 16px 18px 18px;
      border: 1px solid rgba(148,163,184,0.65);
      max-width: 520px;
      width: 92%;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 40px rgba(0,0,0,0.9);
      font-size: 0.85rem;
    }
    .modal h3 {
      margin-top: 0;
    }
    .modal ul {
      margin: 0 0 4px;
      padding-right: 1.1rem;
    }
    .modal li {
      margin-bottom: 2px;
    }
    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- ×›×•×ª×¨×ª ×¢×œ×™×•× ×” + ×œ×•×’×• + ×›×¤×ª×•×¨ ×”×•×¨××•×ª -->
    <div class="card">
      <div style="display:flex; justify-content:space-between; align-items:center; gap:6px; flex-wrap:wrap;">
        <span class="chip">
          Alias Party - ×›×”× '×¡ ğŸ²
        </span>
        <button id="howToBtnTop" class="btn btn-ghost btn-small">ğŸ“œ ×”×•×¨××•×ª ×”××©×—×§</button>
      </div>

      <img id="mainLogo" class="logo-main" alt="×›×”× '×¡ ×œ×•×’×•" />

      <h1 style="text-align:center; margin:6px 0 4px; font-size:2rem;">×›×”× '×¡</h1>
      <p style="text-align:center; margin:0 0 6px; font-size:0.95rem; color:#9ca3af;">
        ×‘×—×¨×• ××¦×‘ ××©×—×§ ×œ×¤×™ ×”×ª×¤×§×™×“ ×©×œ×›×.
      </p>
    </div>

    <!-- ×‘×—×™×¨×ª ×ª×¤×§×™×“: ×× ×”×œ / ×©×—×§×Ÿ -->
    <div class="card">
      <div class="roles-grid">
        <!-- ×× ×”×œ -->
        <div>
          <div class="section-title">×× ×™ ×× ×”×œ â€“ ×¤×ª×™×—×ª ××©×—×§ ğŸ‘¨â€âœˆï¸</div>
          <p class="section-text">
            ×™×¦×™×¨×ª ×—×“×¨ ××©×—×§ ×—×“×©, ×”×’×“×¨×ª ×§×‘×•×¦×•×ª ×•× ×™×§×•×“ ×™×¢×“, ×¦×¤×™×™×” ×‘×›×œ ×”×©×—×§× ×™× ×•×”×ª×—×œ×ª ×¡×™×‘×•×‘×™×.
          </p>
          <button class="btn btn-primary btn-wide" onclick="location.href='host.html'">
            ×œ×”×™×›× ×¡ ×›×× ×”×œ
          </button>
        </div>

        <!-- ×©×—×§×Ÿ -->
        <div>
          <div class="section-title">×× ×™ ×©×—×§×Ÿ â€“ ×”×¦×˜×¨×¤×•×ª ×œ××©×—×§ ğŸ®</div>
          <p class="section-text">
            ××¦×˜×¨×£ ×œ××©×—×§ ×§×™×™× ×¢× ×§×•×“ ×©×× ×”×œ × ×•×ª×Ÿ, ×‘×•×—×¨ ×©× ×•×§×‘×•×¦×”, ×•××©×—×§ ××”×˜×œ×¤×•×Ÿ.
          </p>
          <button class="btn btn-success btn-wide" onclick="location.href='player.html'">
            ×œ×”×™×›× ×¡ ×›×©×—×§×Ÿ
          </button>
        </div>
      </div>
    </div>

    <!-- ××™×š ××©×—×§×™× + ×§×™×¦×•×¨ -->
    <div class="card how-card">
      <h3 style="margin-bottom:4px;">××™×š ××©×—×§×™×?</h3>
      <p>×”×’×¨×¡×” ×”××§×•×¦×¨×ª ×œ××™ ×©××™×Ÿ ×œ×• ×›×•×— ×œ×§×¨×•×:</p>
      <ul>
        <li>×”×× ×”×œ ×¤×•×ª×— ××©×—×§, ×‘×•×—×¨ ×›××” ×§×‘×•×¦×•×ª ×•× ×§×•×“×•×ª ×œ× ×™×¦×—×•×Ÿ.</li>
        <li>×”×©×—×§× ×™× × ×›× ×¡×™× ××”×˜×œ×¤×•×Ÿ ×œ×›×ª×•×‘×ª ×”×–×•, ×œ×•×—×¦×™× "×× ×™ ×©×—×§×Ÿ" ×•××§×œ×™×“×™× ×§×•×“.</li>
        <li>×‘×›×œ ×¡×™×‘×•×‘ ×™×© ××¡×‘×™×¨ ××—×“ ×œ×§×‘×•×¦×” â€“ "× ×›×•×Ÿ" = +1 × ×§×•×“×”, "×“×™×œ×•×’" = âˆ’1 × ×§×•×“×”.</li>
        <li>×™×© ×˜×™×™××¨, ×¦×¢×§×•×ª, ××œ× ×¦×—×•×§×™× â€“ ×•×§×‘×•×¦×” ××—×ª ×©×× ×¦×—×ª (××• ×™×•×ª×¨, ×× ×™×¦× ×ª×™×§×•).</li>
      </ul>
      <button id="howToBtnBottom" class="btn btn-ghost btn-small">×œ××“×¨×™×š ×”××œ× ğŸ“œ</button>
    </div>

    <!-- ×‘×× ×¨ ×œ×¢××•×“ ×”×‘×™×ª -->
    <div class="card">
      <h3 style="margin:0 0 6px;">×‘×× ×¨ / ×¤×¨×¡×•××ª</h3>
      <div id="index-banner-slot" class="small-muted">
        ×× ×”×’×“×¨×ª ×‘×× ×¨ ×‘× ×™×”×•×œ â€“ ×”×•× ×™×•×¤×™×¢ ×›××Ÿ.
      </div>
    </div>
  </div>

  <!-- ××•×“×œ ×”×•×¨××•×ª ××œ××•×ª -->
  <div id="howToModal" class="modal-backdrop hidden">
    <div class="modal">
      <h3>×›×”× '×¡ â€“ ×”×•×¨××•×ª ×”××©×—×§</h3>

      <h4>××™×š × ×›× ×¡×™× ×œ××©×—×§?</h4>
      <ul>
        <li>×›×•×œ× ×’×•×œ×©×™× ××”×˜×œ×¤×•×Ÿ ×œ×›×ª×•×‘×ª ×”×–××ª.</li>
        <li>×”×× ×”×œ ×œ×•×—×¥ <strong>"×× ×™ ×× ×”×œ"</strong> ×•×¤×•×ª×— ××©×—×§ ×—×“×©.</li>
        <li>×”×©×—×§× ×™× ×œ×•×—×¦×™× <strong>"×× ×™ ×©×—×§×Ÿ"</strong>, ××›× ×™×¡×™× ××ª ×§×•×“ ×”××©×—×§, ×©× ×•×§×‘×•×¦×”.</li>
      </ul>

      <h4>×ª×¤×§×™×“ ×”×× ×”×œ</h4>
      <ul>
        <li>××’×“×™×¨ ××¡×¤×¨ ×§×‘×•×¦×•×ª ×•×™×¢×“ × ×§×•×“×•×ª ×œ× ×™×¦×—×•×Ÿ.</li>
        <li>×‘×•×—×¨ ×‘×›×œ ×¡×™×‘×•×‘ ××™×–×• ×§×‘×•×¦×” ××©×—×§×ª ×•××™ ×”××¡×‘×™×¨.</li>
        <li>××¤×¢×™×œ ×˜×™×™××¨ ×œ×¡×™×‘×•×‘, ×¨×•××” ××ª ×”× ×™×§×•×“ ×©×œ ×›×œ ×”×§×‘×•×¦×•×ª, ×•×¡×•×’×¨ ××ª ×”××©×—×§ ×›×©××¡×¤×™×§.</li>
      </ul>

      <h4>××™×š ××©×—×§×™×?</h4>
      <ul>
        <li>×‘×›×œ ×¡×™×‘×•×‘ ×™×© <strong>××¡×‘×™×¨ ××—×“</strong> ××§×‘×•×¦×” ××—×ª.</li>
        <li>×”××¡×‘×™×¨ ×¨×•××” ×‘×˜×œ×¤×•×Ÿ ×©×œ×• ××™×œ×™× ×¡×•×“×™×•×ª.</li>
        <li>×”××˜×¨×”: ×œ×’×¨×•× ×œ×§×‘×•×¦×” ×©×œ×• ×œ× ×—×© ××ª ×”××™×œ×” ×‘×œ×™ ×œ×”×’×™×“ ××•×ª×”.</li>
      </ul>

      <h4>××” ××¡×•×¨ ×œ××¡×‘×™×¨?</h4>
      <ul>
        <li>×œ×”×’×™×“ ××ª ×”××™×œ×” ×¢×¦××” ××• ×—×œ×§×™× ××× ×”.</li>
        <li>×œ×ª×¨×’× ×œ×©×¤×” ××—×¨×ª ××ª ×”××™×œ×” ×¢×¦××”.</li>
        <li>×œ××™×™×ª / ×œ×©×™×¨ ×—×¨×•×–×™× ×™×©×™×¨×™× ×¢×œ ×”××™×œ×”.</li>
      </ul>

      <h4>×•××” ××•×ª×¨?</h4>
      <ul>
        <li>×œ×ª××¨, ×œ×¡×¤×¨ ×¡×™×¤×•×¨, ×œ×¢×©×•×ª ×—×™×§×•×™×™×, ×œ×”×©×ª××© ×‘×™×“×™×™× â€“ ×›×œ ×¢×•×“ ×œ× ××•××¨×™× ××ª ×”××™×œ×”.</li>
      </ul>

      <h4>×”×›×¤×ª×•×¨×™× ××¦×œ ×”××¡×‘×™×¨</h4>
      <ul>
        <li><strong>âœ… "× ×›×•×Ÿ"</strong> â€“ ×”×§×‘×•×¦×” × ×™×—×©×”, ××§×‘×œ×™× +1 × ×§×•×“×” ×•×¢×•×‘×¨×™× ×œ××™×œ×” ×”×‘××”.</li>
        <li><strong>â­ "×“×™×œ×•×’"</strong> â€“ ×§×•×¤×¦×™× ×œ××™×œ×” ×”×‘××” ××‘×œ ××§×‘×œ×™× âˆ’1 × ×§×•×“×”.</li>
      </ul>

      <h4>×¡×™×•× ×¡×™×‘×•×‘ ×•××©×—×§</h4>
      <ul>
        <li>×›×©× ×’××¨ ×”×–××Ÿ â€“ ×”×¡×™×‘×•×‘ × ×¢×¦×¨, ×•×›×œ ×”×§×‘×•×¦×” ××§×‘×œ×ª ×”×•×“×¢×” ×¦×™× ×™×ª ×œ×¤×™ ×›××” × ×§×•×“×•×ª ×¢×©×™×ª×.</li>
        <li>×›×©×§×‘×•×¦×” ××’×™×¢×” ×œ×™×¢×“ ×”× ×§×•×“×•×ª â€“ ×”×™× ×× ×¦×—×ª. ×”×× ×”×œ ×™×›×•×œ ×’× ×œ×¡×’×•×¨ ××©×—×§ ×™×“× ×™×ª.</li>
      </ul>

      <button id="howToClose" class="btn btn-primary btn-wide" style="margin-top:8px;">×”×‘× ×ª×™, ×‘× ×œ×™ ×œ×©×—×§ ğŸ‰</button>
    </div>
  </div>

  <script>
    const howToModal = document.getElementById("howToModal");
    const howToBtnTop = document.getElementById("howToBtnTop");
    const howToBtnBottom = document.getElementById("howToBtnBottom");
    const howToClose = document.getElementById("howToClose");
    const mainLogoEl = document.getElementById("mainLogo");
    const indexBannerSlot = document.getElementById("index-banner-slot");

    function openHowTo() {
      howToModal.classList.remove("hidden");
    }
    function closeHowTo() {
      howToModal.classList.add("hidden");
    }

    if (howToBtnTop) howToBtnTop.addEventListener("click", openHowTo);
    if (howToBtnBottom) howToBtnBottom.addEventListener("click", openHowTo);
    if (howToClose) howToClose.addEventListener("click", closeHowTo);
    if (howToModal) {
      howToModal.addEventListener("click", (e) => {
        if (e.target === howToModal) {
          closeHowTo();
        }
      });
    }

    // ×˜×¢×™× ×ª ×œ×•×’×• ×•×‘×× ×¨ ×œ×¢××•×“ ×”×‘×™×ª
    (function loadBranding() {
      fetch("/api/banners")
        .then(res => res.json())
        .then(data => {
          if (!data) return;

          // ×œ×•×’×•
          const logoCfg = data.logo;
          if (logoCfg && logoCfg.imageUrl && mainLogoEl) {
            mainLogoEl.src = logoCfg.imageUrl;
            mainLogoEl.alt = logoCfg.altText || "×›×”× '×¡";
            mainLogoEl.style.display = "block";
          }

          // ×‘×× ×¨
          const cfg = data.index;
          if (!cfg || !cfg.imageUrl || !cfg.linkUrl || !indexBannerSlot) return;

          indexBannerSlot.innerHTML = "";
          const a = document.createElement("a");
          a.className = "ad-banner";
          a.href = cfg.linkUrl;
          a.target = "_blank";
          a.rel = "noopener";

          const img = document.createElement("img");
          img.src = cfg.imageUrl;
          img.alt = "Banner";

          a.appendChild(img);
          indexBannerSlot.appendChild(a);
        })
        .catch(() => {});
    })();
  </script>
</body>
</html>
